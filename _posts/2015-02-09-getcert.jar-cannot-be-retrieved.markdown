---
layout: post
title:  "getcert.jar cannot be retrieved"
categories: download wget
date: 2015-04-24 21:30:00
author: Matthew Harris, Torsten Rathmann
---

Example error message:

    No ESG Credentials found in /Users/daniele/.esg/credentials.pem
    OpenSSL 1.0.1c 10 May 2012 WARNING: 
    ESGF Host certificate checking might not be compatible with OpenSSL 1.0+ Retrieving Federation Certificates...
    mv: /Users/daniele/.esg/esg_trusted_certificates: 
    No such file or directory done! Please give your OpenID 
    (hit ENTER to accept default) [https://myserver/example/username]? https://pcmdi9.llnl.gov/esgf-idp/openid/..... 
    MyProxy Password? Retrieving Credentials...
    Invalid or corrupt jarfile /Users/..../.esg/getcert.jar Certificate could not be retrieved

**Solution 1:** Remove all contents of the directory ~/.esg and try running the wget script again

**Solution 2:** Run the wget script with the -H option.

     bash wget-################.sh -H

Then authentication will be tried without certificates. This easy solution should work, if
* You use Oracle Java 1.7+ or OpenJDK 1.7+
* The ESGF portal you use for script generation runs version 1.8 of ESGF software (The version is shown in the brown rectangle at the bottom of the Home page)
* The data you need are not from NCAR data node tds.ucar.edu (error message: "http request to OpenID Relying Party service failed.")

**Solution 3:** The wget application installed on your system might not be compiled with SSL. You can check this by issuing "wget -help" and investigating wether or not there are some SSL options. If not
* Try using the wget script with the -T option. Another cryptographic protocol will be used for communication then: TLS (Transport Layer Security) instead of SSL (Secure Sockets Layer) or
* Talk to your system administrator about installing a new version of wget with SSL support

**Solution 4:** You can try to obtain a certificate on another system (for example, clicking on the link "MyProxy"), and then copy the certificate from the other system onto the old system where you want to run, in the location ~/.esg/credentials.pem

